<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>
  Module: IOSIconGenerator::Helpers
  
    &mdash; Documentation by YARD 0.9.18
  
</title>

  <link rel="stylesheet" href="../css/style.css" type="text/css" charset="utf-8" />

  <link rel="stylesheet" href="../css/common.css" type="text/css" charset="utf-8" />

<script type="text/javascript" charset="utf-8">
  pathId = "IOSIconGenerator::Helpers";
  relpath = '../';
</script>


  <script type="text/javascript" charset="utf-8" src="../js/jquery.js"></script>

  <script type="text/javascript" charset="utf-8" src="../js/app.js"></script>


  </head>
  <body>
    <div class="nav_wrap">
      <iframe id="nav" src="../class_list.html?1"></iframe>
      <div id="resizer"></div>
    </div>

    <div id="main" tabindex="-1">
      <div id="header">
        <div id="menu">
  
    <a href="../_index.html">Index (H)</a> &raquo;
    <span class='title'><span class='object_link'><a href="../IOSIconGenerator.html" title="IOSIconGenerator (module)">IOSIconGenerator</a></span></span>
     &raquo; 
    <span class="title">Helpers</span>
  
</div>

        <div id="search">
  
    <a class="full_list_link" id="class_list_link"
        href="../class_list.html">

        <svg width="24" height="24">
          <rect x="0" y="4" width="24" height="4" rx="1" ry="1"></rect>
          <rect x="0" y="12" width="24" height="4" rx="1" ry="1"></rect>
          <rect x="0" y="20" width="24" height="4" rx="1" ry="1"></rect>
        </svg>
    </a>
  
</div>
        <div class="clear"></div>
      </div>

      <div id="content"><h1>Module: IOSIconGenerator::Helpers
  
  
  
</h1>
<div class="box_info">
  

  
  
  
  
  

  

  
  <dl>
    <dt>Defined in:</dt>
    <dd>lib/ios_icon_generator.rb<span class="defines">,<br />
  lib/ios_icon_generator/helpers/which.rb,<br /> lib/ios_icon_generator/helpers/mask_icon.rb,<br /> lib/ios_icon_generator/helpers/generate_icon.rb,<br /> lib/ios_icon_generator/helpers/image_sets_definition.rb</span>
</dd>
  </dl>
  
</div>

<h2>Overview</h2><div class="docstring">
  <div class="discussion">
    
<p>The helpers used by the commands of IOSIconGenerator.</p>


  </div>
</div>
<div class="tags">
  

</div>






  
    <h2>
      Class Method Summary
      <small><a href="#" class="summary_toggle">collapse</a></small>
    </h2>

    <ul class="summary">
      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#generate_icon-class_method" title="generate_icon (class method)">.<strong>generate_icon</strong>(icon_path:, output_folder:, types:, parallel_processes: nil, generate_icon: nil, progress: nil)  &#x21d2; String </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Generate an icon using the base icon provided.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#image_sets-class_method" title="image_sets (class method)">.<strong>image_sets</strong>(types)  &#x21d2; Array&lt;Hash&lt;String, String&gt;&gt; </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Get the image sets for the given types.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#mask_icon-class_method" title="mask_icon (class method)">.<strong>mask_icon</strong>(appiconset_path:, output_folder:, mask: {         background_color: &#39;#FFFFFF&#39;,         stroke_color: &#39;#000000&#39;,         stroke_width_offset: 0.1,         suffix: &#39;Beta&#39;,         symbol: &#39;b&#39;,         symbol_color: &#39;#7F0000&#39;,         font: &#39;Helvetica&#39;,         x_size_ratio: 0.54,         y_size_ratio: 0.54,         size_offset: 0.0,         x_offset: 0.0,         y_offset: 0.0,         shape: &#39;triangle&#39;,       }, parallel_processes: nil, progress: nil)  &#x21d2; String </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Mask an icon using the parameters provided.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#type_incompatible%3F-class_method" title="type_incompatible? (class method)">.<strong>type_incompatible?</strong>(lhs, rhs)  &#x21d2; Boolean </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Check if the given types are compatible (if they can be used in the same
set).</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#which-class_method" title="which (class method)">.<strong>which</strong>(cmd)  &#x21d2; String </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Cross-platform way of finding an executable in the <tt>$PATH</tt>.</p>
</div></span>
  
</li>

      
    </ul>
  



  <div id="class_method_details" class="method_details_list">
    <h2>Class Method Details</h2>

    
      <div class="method_details first">
  <h3 class="signature first" id="generate_icon-class_method">
  
    .<strong>generate_icon</strong>(icon_path:, output_folder:, types:, parallel_processes: nil, generate_icon: nil, progress: nil)  &#x21d2; <tt>String</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Generate an icon using the base icon provided.</p>

<p>If <code>icon_path</code> is set to <code>nil</code>, the function expects
<code>generate_icon</code> to be set or the function will raise.</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>icon_path</span>
      
      
        <span class='type'>(<tt>String</tt>, <tt>#read</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>The path to the icon to use as the base icon. If specified, it must point
to a valid pdf file (with a .pdf extension), with a resolution over
1024x1024. If not specified, <code>generate_icon</code> must be specified.</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>output_folder</span>
      
      
        <span class='type'>(<tt>String</tt>, <tt>#read</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>The folder to create the app icon set in.</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>types</span>
      
      
        <span class='type'>(<tt>Array&lt;Symbol&gt;</tt>, <tt>#read</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>The types to generate the sets of images for. Each type must be one of
<code>:iphone</code>, <code>:ipad</code>, <code>:watch</code>,
<code>mac</code> or <code>carplay</code>, or it can be an array of just
<code>:imessage</code>.</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>parallel_processes</span>
      
      
        <span class='type'>(<tt>Symbol</tt>, <tt>#read</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>The number of processes to use when generating the icons. <code>nil</code>
means it&#39;ll use as many processes as they are cores on the machine.
<code>0</code> will disables spawning any processes.</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>generate_icon</span>
      
      
        <span class='type'>(<tt>Lambda(base_path [String], target_path [String], width [Float], height [Float])</tt>, <tt>#read</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>The lambda that actually generates the icon. If none is specified, and
default one will be used. It should take four parameters:</p>
<ul><li>
<p><code>base_path</code>: The base path to the reference image to use to
generate the new icon. If <code>icon_path</code> is set to
<code>nil</code>, the <code>base_path</code> parameter will
<code>nil</code> as well.</p>
</li><li>
<p><code>target_path</code>: The path to generate the icon at.</p>
</li><li>
<p><code>width</code>: The width of the icon to generate.</p>
</li><li>
<p><code>height</code>: The height of the icon to generate.</p>
</li></ul>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>progress</span>
      
      
        <span class='type'>(<tt>Lambda(progress [Int], total [Int])</tt>, <tt>#read</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>An optional progress block called when progress has been made generating
the icons. It should take two parameters:</p>
<ul><li>
<p><code>progress</code>: An integer indicating the current progress out of
<code>total</code></p>
</li><li>
<p><code>total</code>: An integer indicating the total progress</p>
</li></ul>
</div>
      
    </li>
  
</ul>

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>Return the path to the generated app icon set.</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
81
82
83
84
85
86
87
88
89
90
91
92
93
94
95
96
97
98
99
100
101
102
103
104
105
106
107
108
109
110
111
112
113
114
115
116
117
118
119
120
121
122
123
124
125
126
127
128
129
130
131
132
133
134
135
136
137
138
139
140
141
142
143
144
145
146
147
148
149
150
151
152
153
154
155
156
157
158
159
160
161
162
163
164
165
166</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/ios_icon_generator/helpers/generate_icon.rb', line 49</span>

<span class='kw'>def</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_generate_icon'>generate_icon</span><span class='lparen'>(</span><span class='label'>icon_path:</span><span class='comma'>,</span> <span class='label'>output_folder:</span><span class='comma'>,</span> <span class='label'>types:</span><span class='comma'>,</span> <span class='label'>parallel_processes:</span> <span class='kw'>nil</span><span class='comma'>,</span> <span class='label'>generate_icon:</span> <span class='kw'>nil</span><span class='comma'>,</span> <span class='label'>progress:</span> <span class='kw'>nil</span><span class='rparen'>)</span>
  <span class='kw'>if</span> <span class='id identifier rubyid_icon_path'>icon_path</span>
    <span class='id identifier rubyid_raise'>raise</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>There is no icon at the path specified.</span><span class='tstring_end'>&#39;</span></span> <span class='kw'>unless</span> <span class='const'>File</span><span class='period'>.</span><span class='id identifier rubyid_exist?'>exist?</span><span class='lparen'>(</span><span class='id identifier rubyid_icon_path'>icon_path</span><span class='rparen'>)</span>

    <span class='id identifier rubyid_raise'>raise</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>The icon specified must be .pdf.</span><span class='tstring_end'>&#39;</span></span> <span class='kw'>if</span> <span class='const'>File</span><span class='period'>.</span><span class='id identifier rubyid_extname'>extname</span><span class='lparen'>(</span><span class='id identifier rubyid_icon_path'>icon_path</span><span class='rparen'>)</span> <span class='op'>!=</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>.pdf</span><span class='tstring_end'>&#39;</span></span>

    <span class='id identifier rubyid_matches'>matches</span> <span class='op'>=</span> <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>(\d+)x(\d+)</span><span class='regexp_end'>/</span></span><span class='period'>.</span><span class='id identifier rubyid_match'>match</span><span class='lparen'>(</span><span class='backtick'>`</span><span class='tstring_content'>magick identify &quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_icon_path'>icon_path</span><span class='embexpr_end'>}</span><span class='tstring_content'>&quot;</span><span class='tstring_end'>`</span></span><span class='rparen'>)</span>
    <span class='id identifier rubyid_raise'>raise</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Unable to verify icon. Please make sure it\&#39;s a valid pdf file and try again.</span><span class='tstring_end'>&#39;</span></span> <span class='kw'>if</span> <span class='id identifier rubyid_matches'>matches</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span>

    <span class='id identifier rubyid_width'>width</span><span class='comma'>,</span> <span class='id identifier rubyid_height'>height</span> <span class='op'>=</span> <span class='id identifier rubyid_matches'>matches</span><span class='period'>.</span><span class='id identifier rubyid_captures'>captures</span>
    <span class='id identifier rubyid_raise'>raise</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Invalid pdf specified.</span><span class='tstring_end'>&#39;</span></span> <span class='kw'>if</span> <span class='id identifier rubyid_width'>width</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span> <span class='op'>||</span> <span class='id identifier rubyid_height'>height</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span>

    <span class='id identifier rubyid_raise'>raise</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>The icon must at least be 1024x1024, it currently is </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_width'>width</span><span class='embexpr_end'>}</span><span class='tstring_content'>x</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_height'>height</span><span class='embexpr_end'>}</span><span class='tstring_content'>.</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>unless</span> <span class='id identifier rubyid_width'>width</span><span class='period'>.</span><span class='id identifier rubyid_to_i'>to_i</span> <span class='op'>&gt;=</span> <span class='int'>1024</span> <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_height'>height</span><span class='period'>.</span><span class='id identifier rubyid_to_i'>to_i</span> <span class='op'>&gt;=</span> <span class='int'>1024</span>
  <span class='kw'>elsif</span> <span class='id identifier rubyid_generate_icon'>generate_icon</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span>
    <span class='id identifier rubyid_raise'>raise</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>icon_path has been set to nil, generate_icon must be specified</span><span class='tstring_end'>&#39;</span></span>
  <span class='kw'>end</span>
  <span class='id identifier rubyid_appiconset_path'>appiconset_path</span> <span class='op'>=</span> <span class='const'>File</span><span class='period'>.</span><span class='id identifier rubyid_join'>join</span><span class='lparen'>(</span><span class='id identifier rubyid_output_folder'>output_folder</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_types'>types</span><span class='period'>.</span><span class='id identifier rubyid_include?'>include?</span><span class='lparen'>(</span><span class='symbol'>:imessage</span><span class='rparen'>)</span> <span class='op'>?</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>iMessage App Icon</span><span class='tstring_end'>&#39;</span></span> <span class='op'>:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>AppIcon</span><span class='tstring_end'>&#39;</span></span><span class='embexpr_end'>}</span><span class='tstring_content'>.</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_types'>types</span><span class='period'>.</span><span class='id identifier rubyid_include?'>include?</span><span class='lparen'>(</span><span class='symbol'>:imessage</span><span class='rparen'>)</span> <span class='op'>?</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>stickersiconset</span><span class='tstring_end'>&#39;</span></span> <span class='op'>:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>appiconset</span><span class='tstring_end'>&#39;</span></span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>

  <span class='const'>FileUtils</span><span class='period'>.</span><span class='id identifier rubyid_mkdir_p'>mkdir_p</span><span class='lparen'>(</span><span class='id identifier rubyid_appiconset_path'>appiconset_path</span><span class='rparen'>)</span>

  <span class='id identifier rubyid_get_icon_path'>get_icon_path</span> <span class='op'>=</span> <span class='id identifier rubyid_lambda'>lambda</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_width'>width</span><span class='comma'>,</span> <span class='id identifier rubyid_height'>height</span><span class='op'>|</span>
    <span class='kw'>return</span> <span class='const'>File</span><span class='period'>.</span><span class='id identifier rubyid_join'>join</span><span class='lparen'>(</span><span class='id identifier rubyid_appiconset_path'>appiconset_path</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Icon-</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_width'>width</span><span class='period'>.</span><span class='id identifier rubyid_to_i'>to_i</span><span class='embexpr_end'>}</span><span class='tstring_content'>x</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_height'>height</span><span class='period'>.</span><span class='id identifier rubyid_to_i'>to_i</span><span class='embexpr_end'>}</span><span class='tstring_content'>.png</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
  <span class='rbrace'>}</span>

  <span class='id identifier rubyid_generate_icon'>generate_icon</span> <span class='op'>||=</span> <span class='id identifier rubyid_lambda'>lambda</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_base_path'>base_path</span><span class='comma'>,</span> <span class='id identifier rubyid_target_path'>target_path</span><span class='comma'>,</span> <span class='id identifier rubyid_width'>width</span><span class='comma'>,</span> <span class='id identifier rubyid_height'>height</span><span class='op'>|</span>
    <span class='id identifier rubyid_size'>size</span> <span class='op'>=</span> <span class='lbracket'>[</span><span class='id identifier rubyid_width'>width</span><span class='comma'>,</span> <span class='id identifier rubyid_height'>height</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_max'>max</span>
    <span class='id identifier rubyid_system'>system</span><span class='lparen'>(</span>
      <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>magick</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span>
      <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>convert</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span>
      <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>-density</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span>
      <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>400</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span>
      <span class='id identifier rubyid_base_path'>base_path</span><span class='comma'>,</span>
      <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>-colorspace</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span>
      <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>sRGB</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span>
      <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>-type</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span>
      <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>truecolor</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span>
      <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>-resize</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_size'>size</span><span class='embexpr_end'>}</span><span class='tstring_content'>x</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_size'>size</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
      <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>-gravity</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span>
      <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>center</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span>
      <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>-crop</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span>
      <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_width'>width</span><span class='embexpr_end'>}</span><span class='tstring_content'>x</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_height'>height</span><span class='embexpr_end'>}</span><span class='tstring_content'>+0+0</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
      <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>+repage</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span>
      <span class='id identifier rubyid_target_path'>target_path</span>
    <span class='rparen'>)</span>
  <span class='rbrace'>}</span>

  <span class='id identifier rubyid_types'>types</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_type1'>type1</span><span class='op'>|</span>
    <span class='id identifier rubyid_types'>types</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_type2'>type2</span><span class='op'>|</span>
      <span class='id identifier rubyid_raise'>raise</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Incompatible types used together: </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_type1'>type1</span><span class='embexpr_end'>}</span><span class='tstring_content'> and </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_type2'>type2</span><span class='embexpr_end'>}</span><span class='tstring_content'>. These types cannot be added to the same sets; please call the command twice with each different type.</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>if</span> <span class='const'><span class='object_link'><a href="" title="IOSIconGenerator::Helpers (module)">Helpers</a></span></span><span class='period'>.</span><span class='id identifier rubyid_type_incompatible?'><span class='object_link'><a href="#type_incompatible%3F-class_method" title="IOSIconGenerator::Helpers.type_incompatible? (method)">type_incompatible?</a></span></span><span class='lparen'>(</span><span class='id identifier rubyid_type1'>type1</span><span class='comma'>,</span> <span class='id identifier rubyid_type2'>type2</span><span class='rparen'>)</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>

  <span class='id identifier rubyid_images_sets'>images_sets</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="" title="IOSIconGenerator::Helpers (module)">Helpers</a></span></span><span class='period'>.</span><span class='id identifier rubyid_image_sets'><span class='object_link'><a href="#image_sets-class_method" title="IOSIconGenerator::Helpers.image_sets (method)">image_sets</a></span></span><span class='lparen'>(</span><span class='id identifier rubyid_types'>types</span><span class='rparen'>)</span>

  <span class='id identifier rubyid_smaller_sizes'>smaller_sizes</span> <span class='op'>=</span> <span class='lbracket'>[</span><span class='rbracket'>]</span>
  <span class='id identifier rubyid_images_sets'>images_sets</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_image'>image</span><span class='op'>|</span>
    <span class='id identifier rubyid_width'>width</span><span class='comma'>,</span> <span class='id identifier rubyid_height'>height</span> <span class='op'>=</span> <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>(\d+(?:\.\d)?)x(\d+(?:\.\d)?)</span><span class='regexp_end'>/</span></span><span class='period'>.</span><span class='id identifier rubyid_match'>match</span><span class='lparen'>(</span><span class='id identifier rubyid_image'>image</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>size</span><span class='tstring_end'>&#39;</span></span><span class='rbracket'>]</span><span class='rparen'>)</span><span class='op'>&amp;.</span><span class='id identifier rubyid_captures'>captures</span>
    <span class='id identifier rubyid_scale'>scale</span><span class='comma'>,</span> <span class='op'>=</span> <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>(\d+(?:\.\d)?)x</span><span class='regexp_end'>/</span></span><span class='period'>.</span><span class='id identifier rubyid_match'>match</span><span class='lparen'>(</span><span class='id identifier rubyid_image'>image</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>scale</span><span class='tstring_end'>&#39;</span></span><span class='rbracket'>]</span><span class='rparen'>)</span><span class='op'>&amp;.</span><span class='id identifier rubyid_captures'>captures</span>
    <span class='id identifier rubyid_raise'>raise</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Invalid size parameter in Contents.json: </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_image'>image</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>size</span><span class='tstring_end'>&#39;</span></span><span class='rbracket'>]</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>if</span> <span class='id identifier rubyid_width'>width</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span> <span class='op'>||</span> <span class='id identifier rubyid_height'>height</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span> <span class='op'>||</span> <span class='id identifier rubyid_scale'>scale</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span>

    <span class='id identifier rubyid_scale'>scale</span> <span class='op'>=</span> <span class='id identifier rubyid_scale'>scale</span><span class='period'>.</span><span class='id identifier rubyid_to_f'>to_f</span>
    <span class='id identifier rubyid_width'>width</span> <span class='op'>=</span> <span class='id identifier rubyid_width'>width</span><span class='period'>.</span><span class='id identifier rubyid_to_f'>to_f</span> <span class='op'>*</span> <span class='id identifier rubyid_scale'>scale</span>
    <span class='id identifier rubyid_height'>height</span> <span class='op'>=</span> <span class='id identifier rubyid_height'>height</span><span class='period'>.</span><span class='id identifier rubyid_to_f'>to_f</span> <span class='op'>*</span> <span class='id identifier rubyid_scale'>scale</span>

    <span class='id identifier rubyid_target_path'>target_path</span> <span class='op'>=</span> <span class='id identifier rubyid_get_icon_path'>get_icon_path</span><span class='period'>.</span><span class='id identifier rubyid_call'>call</span><span class='lparen'>(</span><span class='id identifier rubyid_width'>width</span><span class='comma'>,</span> <span class='id identifier rubyid_height'>height</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_image'>image</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>filename</span><span class='tstring_end'>&#39;</span></span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='const'>File</span><span class='period'>.</span><span class='id identifier rubyid_basename'>basename</span><span class='lparen'>(</span><span class='id identifier rubyid_target_path'>target_path</span><span class='rparen'>)</span>
    <span class='kw'>if</span> <span class='id identifier rubyid_width'>width</span> <span class='op'>&gt;</span> <span class='int'>512</span> <span class='op'>||</span> <span class='id identifier rubyid_height'>height</span> <span class='op'>&gt;</span> <span class='int'>512</span>
      <span class='id identifier rubyid_generate_icon'>generate_icon</span><span class='period'>.</span><span class='id identifier rubyid_call'>call</span><span class='lparen'>(</span>
        <span class='id identifier rubyid_icon_path'>icon_path</span><span class='comma'>,</span>
        <span class='id identifier rubyid_target_path'>target_path</span><span class='comma'>,</span>
        <span class='id identifier rubyid_width'>width</span><span class='comma'>,</span>
        <span class='id identifier rubyid_height'>height</span>
      <span class='rparen'>)</span>
    <span class='kw'>else</span>
      <span class='id identifier rubyid_smaller_sizes'>smaller_sizes</span> <span class='op'>&lt;&lt;</span> <span class='lbracket'>[</span><span class='id identifier rubyid_width'>width</span><span class='comma'>,</span> <span class='id identifier rubyid_height'>height</span><span class='rbracket'>]</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>

  <span class='id identifier rubyid_total'>total</span> <span class='op'>=</span> <span class='id identifier rubyid_smaller_sizes'>smaller_sizes</span><span class='period'>.</span><span class='id identifier rubyid_count'>count</span> <span class='op'>+</span> <span class='int'>2</span>
  <span class='id identifier rubyid_progress'>progress</span><span class='op'>&amp;.</span><span class='id identifier rubyid_call'>call</span><span class='lparen'>(</span><span class='kw'>nil</span><span class='comma'>,</span> <span class='id identifier rubyid_total'>total</span><span class='rparen'>)</span>

  <span class='id identifier rubyid_max_size'>max_size</span> <span class='op'>=</span> <span class='id identifier rubyid_smaller_sizes'>smaller_sizes</span><span class='period'>.</span><span class='id identifier rubyid_flatten'>flatten</span><span class='period'>.</span><span class='id identifier rubyid_max'>max</span>
  <span class='id identifier rubyid_temp_icon_path'>temp_icon_path</span> <span class='op'>=</span> <span class='const'>File</span><span class='period'>.</span><span class='id identifier rubyid_join'>join</span><span class='lparen'>(</span><span class='id identifier rubyid_output_folder'>output_folder</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>.temp_icon.pdf</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span>
  <span class='kw'>begin</span>
    <span class='id identifier rubyid_system'>system</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>magick</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>convert</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>-density</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>400</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='id identifier rubyid_icon_path'>icon_path</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>-colorspace</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>sRGB</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>-type</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>truecolor</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>-scale</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_max_size'>max_size</span><span class='embexpr_end'>}</span><span class='tstring_content'>x</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_max_size'>max_size</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='id identifier rubyid_temp_icon_path'>temp_icon_path</span><span class='rparen'>)</span> <span class='kw'>if</span> <span class='id identifier rubyid_icon_path'>icon_path</span>
    <span class='id identifier rubyid_progress'>progress</span><span class='op'>&amp;.</span><span class='id identifier rubyid_call'>call</span><span class='lparen'>(</span><span class='int'>1</span><span class='comma'>,</span> <span class='id identifier rubyid_total'>total</span><span class='rparen'>)</span>
    <span class='const'>Parallel</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span><span class='lparen'>(</span>
      <span class='id identifier rubyid_smaller_sizes'>smaller_sizes</span><span class='comma'>,</span>
      <span class='label'>in_processes:</span> <span class='id identifier rubyid_parallel_processes'>parallel_processes</span><span class='comma'>,</span>
      <span class='label'>finish:</span> <span class='id identifier rubyid_lambda'>lambda</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid__item'>_item</span><span class='comma'>,</span> <span class='id identifier rubyid_i'>i</span><span class='comma'>,</span> <span class='id identifier rubyid__result'>_result</span><span class='op'>|</span>
        <span class='id identifier rubyid_progress'>progress</span><span class='op'>&amp;.</span><span class='id identifier rubyid_call'>call</span><span class='lparen'>(</span><span class='id identifier rubyid_i'>i</span> <span class='op'>+</span> <span class='int'>1</span><span class='comma'>,</span> <span class='id identifier rubyid_total'>total</span><span class='rparen'>)</span>
      <span class='kw'>end</span>
    <span class='rparen'>)</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_width'>width</span><span class='comma'>,</span> <span class='id identifier rubyid_height'>height</span><span class='op'>|</span>
      <span class='id identifier rubyid_generate_icon'>generate_icon</span><span class='period'>.</span><span class='id identifier rubyid_call'>call</span><span class='lparen'>(</span>
        <span class='id identifier rubyid_temp_icon_path'>temp_icon_path</span><span class='comma'>,</span>
        <span class='id identifier rubyid_get_icon_path'>get_icon_path</span><span class='period'>.</span><span class='id identifier rubyid_call'>call</span><span class='lparen'>(</span><span class='id identifier rubyid_width'>width</span><span class='comma'>,</span> <span class='id identifier rubyid_height'>height</span><span class='rparen'>)</span><span class='comma'>,</span>
        <span class='id identifier rubyid_width'>width</span><span class='comma'>,</span>
        <span class='id identifier rubyid_height'>height</span>
      <span class='rparen'>)</span>
    <span class='kw'>end</span>
  <span class='kw'>ensure</span>
    <span class='const'>FileUtils</span><span class='period'>.</span><span class='id identifier rubyid_rm'>rm</span><span class='lparen'>(</span><span class='id identifier rubyid_temp_icon_path'>temp_icon_path</span><span class='rparen'>)</span> <span class='kw'>if</span> <span class='const'>File</span><span class='period'>.</span><span class='id identifier rubyid_exist?'>exist?</span><span class='lparen'>(</span><span class='id identifier rubyid_temp_icon_path'>temp_icon_path</span><span class='rparen'>)</span>
  <span class='kw'>end</span>

  <span class='id identifier rubyid_contents_json'>contents_json</span> <span class='op'>=</span> <span class='lbrace'>{</span>
    <span class='label'>images:</span> <span class='id identifier rubyid_images_sets'>images_sets</span><span class='comma'>,</span>
    <span class='label'>info:</span> <span class='lbrace'>{</span>
      <span class='label'>version:</span> <span class='int'>1</span><span class='comma'>,</span>
      <span class='label'>author:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>xcode</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span>
    <span class='rbrace'>}</span><span class='comma'>,</span>
  <span class='rbrace'>}</span>

  <span class='const'>File</span><span class='period'>.</span><span class='id identifier rubyid_write'>write</span><span class='lparen'>(</span><span class='const'>File</span><span class='period'>.</span><span class='id identifier rubyid_join'>join</span><span class='lparen'>(</span><span class='id identifier rubyid_appiconset_path'>appiconset_path</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Contents.json</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span><span class='comma'>,</span> <span class='const'>JSON</span><span class='period'>.</span><span class='id identifier rubyid_pretty_generate'>pretty_generate</span><span class='lparen'>(</span><span class='id identifier rubyid_contents_json'>contents_json</span><span class='rparen'>)</span><span class='rparen'>)</span>

  <span class='id identifier rubyid_progress'>progress</span><span class='op'>&amp;.</span><span class='id identifier rubyid_call'>call</span><span class='lparen'>(</span><span class='id identifier rubyid_total'>total</span> <span class='op'>-</span> <span class='int'>1</span><span class='comma'>,</span> <span class='id identifier rubyid_total'>total</span><span class='rparen'>)</span>

  <span class='id identifier rubyid_appiconset_path'>appiconset_path</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="image_sets-class_method">
  
    .<strong>image_sets</strong>(types)  &#x21d2; <tt>Array&lt;Hash&lt;String, String&gt;&gt;</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Get the image sets for the given types.</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>types</span>
      
      
        <span class='type'>(<tt>Symbol</tt>, <tt>#read</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>The types to return the sets of image for. This method won&#39;t fail if
the types aren&#39;t compatible as defined by
<code>type_incompatible?</code></p>
</div>
      
    </li>
  
</ul>

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Array&lt;Hash&lt;String, String&gt;&gt;</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>The sets of image for the given types. Each hash will at least contain a
<code>size</code> [String] key, that has the format
<tt>&lt;width&gt;x&lt;height&gt;</tt></p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


29
30
31
32
33
34
35
36
37</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/ios_icon_generator/helpers/image_sets_definition.rb', line 29</span>

<span class='kw'>def</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_image_sets'>image_sets</span><span class='lparen'>(</span><span class='id identifier rubyid_types'>types</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_types'>types</span><span class='period'>.</span><span class='id identifier rubyid_flat_map'>flat_map</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_type'>type</span><span class='op'>|</span>
    <span class='id identifier rubyid_contents_path'>contents_path</span> <span class='op'>=</span> <span class='const'>File</span><span class='period'>.</span><span class='id identifier rubyid_expand_path'>expand_path</span><span class='lparen'>(</span><span class='const'>File</span><span class='period'>.</span><span class='id identifier rubyid_join'>join</span><span class='lparen'>(</span><span class='const'>File</span><span class='period'>.</span><span class='id identifier rubyid_dirname'>dirname</span><span class='lparen'>(</span><span class='kw'>__FILE__</span><span class='rparen'>)</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>../../../vendor/Contents-</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_type'>type</span><span class='embexpr_end'>}</span><span class='tstring_content'>.json</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_raise'>raise</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Unknown type </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_type'>type</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>unless</span> <span class='const'>File</span><span class='period'>.</span><span class='id identifier rubyid_exist?'>exist?</span><span class='lparen'>(</span><span class='id identifier rubyid_contents_path'>contents_path</span><span class='rparen'>)</span>

    <span class='id identifier rubyid_contents_json'>contents_json</span> <span class='op'>=</span> <span class='const'>JSON</span><span class='period'>.</span><span class='id identifier rubyid_parse'>parse</span><span class='lparen'>(</span><span class='const'>File</span><span class='period'>.</span><span class='id identifier rubyid_read'>read</span><span class='lparen'>(</span><span class='id identifier rubyid_contents_path'>contents_path</span><span class='rparen'>)</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_contents_json'>contents_json</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>images</span><span class='tstring_end'>&#39;</span></span><span class='rbracket'>]</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="mask_icon-class_method">
  
    .<strong>mask_icon</strong>(appiconset_path:, output_folder:, mask: {
        background_color: &#39;#FFFFFF&#39;,
        stroke_color: &#39;#000000&#39;,
        stroke_width_offset: 0.1,
        suffix: &#39;Beta&#39;,
        symbol: &#39;b&#39;,
        symbol_color: &#39;#7F0000&#39;,
        font: &#39;Helvetica&#39;,
        x_size_ratio: 0.54,
        y_size_ratio: 0.54,
        size_offset: 0.0,
        x_offset: 0.0,
        y_offset: 0.0,
        shape: &#39;triangle&#39;,
      }, parallel_processes: nil, progress: nil)  &#x21d2; <tt>String</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Mask an icon using the parameters provided.</p>

<p>The mask is for now always generated in the bottom left corner of the
image.</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>appiconset_path</span>
      
      
        <span class='type'>(<tt>String</tt>, <tt>#read</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>The path of the original app icon set to use to generate the new one.</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>output_folder</span>
      
      
        <span class='type'>(<tt>String</tt>, <tt>#read</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>The folder to create the new app icon set in.</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>mask</span>
      
      
        <span class='type'>(<tt>Hash&lt;String, Object&gt;</tt>, <tt>#read</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>A hash representing parameters for creating the mask. The Hash may contain
the following values:</p>
<ul><li>
<p><code>background_color</code>: The background color to use when generating
the mask</p>
</li><li>
<p><code>stroke_color</code>: The stroke color to use when generating the
mask. Used for the outline of the mask.</p>
</li><li>
<p><code>stroke_width_offset</code>: The stroke width of the mask, offset to
the image&#39;s minimum dimension (width or height). 1.0 means the stroke
will have the full width/height of the image</p>
</li><li>
<p><code>suffix</code>: The suffix to use when generating the new mask</p>
</li><li>
<p><code>file</code>: The file to use when generating the new mask. This file
should be an image, and it will be overlayed over the background.</p>
</li><li>
<p><code>symbol</code>: The symbol to use when generating the new mask</p>
</li><li>
<p><code>symbol_color</code>: The color to use for the symbol</p>
</li><li>
<p><code>font</code>: The font to use for the symbol</p>
</li><li>
<p><code>x_size_ratio</code>: The size ratio (of the width of the image) to
use when generating the mask. 1.0 means the full width, 0.5 means
half-width.</p>
</li><li>
<p><code>y_size_ratio</code>: The size ratio (of the height of the image) to
use when generating the mask. 1.0 means the full height, 0.5 means
half-height.</p>
</li><li>
<p><code>size_offset</code>: The size ratio (of the width and height) to use
when generating the symbol or file. 1.0 means the full width and height,
0.5 means half-width and half-height.</p>
</li><li>
<p><code>x_offset</code>: The X offset (of the width of the image) to use when
generating the symbol or file. 1.0 means the full width, 0.5 means
half-width.</p>
</li><li>
<p><code>y_offset</code>: The Y offset (of the width of the image) to use when
generating the symbol or file. 1.0 means the full height, 0.5 means
half-height.</p>
</li><li>
<p><code>shape</code>: The shape to use when generating the mask. Can be
either <code>:triangle</code> or <code>:square</code>.</p>
</li></ul>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>parallel_processes</span>
      
      
        <span class='type'>(<tt>Symbol</tt>, <tt>#read</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>The number of processes to use when generating the icons. <code>nil</code>
means it&#39;ll use as many processes as they are cores on the machine.
<code>0</code> will disables spawning any processes.</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>progress</span>
      
      
        <span class='type'>(<tt>Lambda(progress [Int], total [Int])</tt>, <tt>#read</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>An optional progress block called when progress has been made generating
the icons. It should take two parameters:</p>
<ul><li>
<p><code>progress</code>: An integer indicating the current progress out of
<code>total</code></p>
</li><li>
<p><code>total</code>: An integer indicating the total progress</p>
</li></ul>
</div>
      
    </li>
  
</ul>

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>Return the path to the generated app icon set.</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
81
82
83
84
85
86
87
88
89
90
91
92
93
94
95
96
97
98
99
100
101
102
103
104
105
106
107
108
109
110
111
112
113
114
115
116
117
118
119
120
121
122
123
124
125
126
127
128
129
130
131
132
133
134
135</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/ios_icon_generator/helpers/mask_icon.rb', line 56</span>

<span class='kw'>def</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_mask_icon'>mask_icon</span><span class='lparen'>(</span>
  <span class='label'>appiconset_path:</span><span class='comma'>,</span>
  <span class='label'>output_folder:</span><span class='comma'>,</span>
  <span class='label'>mask:</span> <span class='lbrace'>{</span>
    <span class='label'>background_color:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>#FFFFFF</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span>
    <span class='label'>stroke_color:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>#000000</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span>
    <span class='label'>stroke_width_offset:</span> <span class='float'>0.1</span><span class='comma'>,</span>
    <span class='label'>suffix:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Beta</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span>
    <span class='label'>symbol:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>b</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span>
    <span class='label'>symbol_color:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>#7F0000</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span>
    <span class='label'>font:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Helvetica</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span>
    <span class='label'>x_size_ratio:</span> <span class='float'>0.54</span><span class='comma'>,</span>
    <span class='label'>y_size_ratio:</span> <span class='float'>0.54</span><span class='comma'>,</span>
    <span class='label'>size_offset:</span> <span class='float'>0.0</span><span class='comma'>,</span>
    <span class='label'>x_offset:</span> <span class='float'>0.0</span><span class='comma'>,</span>
    <span class='label'>y_offset:</span> <span class='float'>0.0</span><span class='comma'>,</span>
    <span class='label'>shape:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>triangle</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span>
  <span class='rbrace'>}</span><span class='comma'>,</span>
  <span class='label'>parallel_processes:</span> <span class='kw'>nil</span><span class='comma'>,</span>
  <span class='label'>progress:</span> <span class='kw'>nil</span>
<span class='rparen'>)</span>
  <span class='id identifier rubyid_extension'>extension</span> <span class='op'>=</span> <span class='const'>File</span><span class='period'>.</span><span class='id identifier rubyid_extname'>extname</span><span class='lparen'>(</span><span class='id identifier rubyid_appiconset_path'>appiconset_path</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_output_folder'>output_folder</span> <span class='op'>=</span> <span class='const'>File</span><span class='period'>.</span><span class='id identifier rubyid_join'>join</span><span class='lparen'>(</span><span class='id identifier rubyid_output_folder'>output_folder</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='const'>File</span><span class='period'>.</span><span class='id identifier rubyid_basename'>basename</span><span class='lparen'>(</span><span class='id identifier rubyid_appiconset_path'>appiconset_path</span><span class='comma'>,</span> <span class='id identifier rubyid_extension'>extension</span><span class='rparen'>)</span><span class='embexpr_end'>}</span><span class='tstring_content'>-</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_mask'>mask</span><span class='lbracket'>[</span><span class='symbol'>:suffix</span><span class='rbracket'>]</span><span class='embexpr_end'>}</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_extension'>extension</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>

  <span class='const'>FileUtils</span><span class='period'>.</span><span class='id identifier rubyid_mkdir_p'>mkdir_p</span><span class='lparen'>(</span><span class='id identifier rubyid_output_folder'>output_folder</span><span class='rparen'>)</span>

  <span class='id identifier rubyid_contents_path'>contents_path</span> <span class='op'>=</span> <span class='const'>File</span><span class='period'>.</span><span class='id identifier rubyid_join'>join</span><span class='lparen'>(</span><span class='id identifier rubyid_appiconset_path'>appiconset_path</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Contents.json</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span>
  <span class='id identifier rubyid_raise'>raise</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Contents.json file not found in </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_appiconset_path'>appiconset_path</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>unless</span> <span class='const'>File</span><span class='period'>.</span><span class='id identifier rubyid_exist?'>exist?</span><span class='lparen'>(</span><span class='id identifier rubyid_contents_path'>contents_path</span><span class='rparen'>)</span>

  <span class='id identifier rubyid_json_content'>json_content</span> <span class='op'>=</span> <span class='const'>JSON</span><span class='period'>.</span><span class='id identifier rubyid_parse'>parse</span><span class='lparen'>(</span><span class='const'>File</span><span class='period'>.</span><span class='id identifier rubyid_read'>read</span><span class='lparen'>(</span><span class='id identifier rubyid_contents_path'>contents_path</span><span class='rparen'>)</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_progress'>progress</span><span class='op'>&amp;.</span><span class='id identifier rubyid_call'>call</span><span class='lparen'>(</span><span class='kw'>nil</span><span class='comma'>,</span> <span class='id identifier rubyid_json_content'>json_content</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>images</span><span class='tstring_end'>&#39;</span></span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_count'>count</span><span class='rparen'>)</span>
  <span class='const'>Parallel</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span><span class='lparen'>(</span>
    <span class='id identifier rubyid_json_content'>json_content</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>images</span><span class='tstring_end'>&#39;</span></span><span class='rbracket'>]</span><span class='comma'>,</span>
    <span class='label'>in_processes:</span> <span class='id identifier rubyid_parallel_processes'>parallel_processes</span><span class='comma'>,</span>
    <span class='label'>finish:</span> <span class='id identifier rubyid_lambda'>lambda</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid__item'>_item</span><span class='comma'>,</span> <span class='id identifier rubyid_i'>i</span><span class='comma'>,</span> <span class='id identifier rubyid_result'>result</span><span class='op'>|</span>
      <span class='id identifier rubyid_json_content'>json_content</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>images</span><span class='tstring_end'>&#39;</span></span><span class='rbracket'>]</span><span class='lbracket'>[</span><span class='id identifier rubyid_i'>i</span><span class='rbracket'>]</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>filename</span><span class='tstring_end'>&#39;</span></span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='id identifier rubyid_result'>result</span>
      <span class='id identifier rubyid_progress'>progress</span><span class='op'>&amp;.</span><span class='id identifier rubyid_call'>call</span><span class='lparen'>(</span><span class='id identifier rubyid_i'>i</span><span class='comma'>,</span> <span class='id identifier rubyid_json_content'>json_content</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>images</span><span class='tstring_end'>&#39;</span></span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_count'>count</span><span class='rparen'>)</span>
    <span class='kw'>end</span>
  <span class='rparen'>)</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_image'>image</span><span class='op'>|</span>
    <span class='id identifier rubyid_width'>width</span><span class='comma'>,</span> <span class='id identifier rubyid_height'>height</span> <span class='op'>=</span> <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>(\d+(?:\.\d)?)x(\d+(?:\.\d)?)</span><span class='regexp_end'>/</span></span><span class='period'>.</span><span class='id identifier rubyid_match'>match</span><span class='lparen'>(</span><span class='id identifier rubyid_image'>image</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>size</span><span class='tstring_end'>&#39;</span></span><span class='rbracket'>]</span><span class='rparen'>)</span><span class='op'>&amp;.</span><span class='id identifier rubyid_captures'>captures</span>
    <span class='id identifier rubyid_scale'>scale</span><span class='comma'>,</span> <span class='op'>=</span> <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>(\d+(?:\.\d)?)x</span><span class='regexp_end'>/</span></span><span class='period'>.</span><span class='id identifier rubyid_match'>match</span><span class='lparen'>(</span><span class='id identifier rubyid_image'>image</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>scale</span><span class='tstring_end'>&#39;</span></span><span class='rbracket'>]</span><span class='rparen'>)</span><span class='op'>&amp;.</span><span class='id identifier rubyid_captures'>captures</span>
    <span class='id identifier rubyid_raise'>raise</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Invalid size parameter in Contents.json: </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_image'>image</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>size</span><span class='tstring_end'>&#39;</span></span><span class='rbracket'>]</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>if</span> <span class='id identifier rubyid_width'>width</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span> <span class='op'>||</span> <span class='id identifier rubyid_height'>height</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span> <span class='op'>||</span> <span class='id identifier rubyid_scale'>scale</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span>

    <span class='id identifier rubyid_scale'>scale</span> <span class='op'>=</span> <span class='id identifier rubyid_scale'>scale</span><span class='period'>.</span><span class='id identifier rubyid_to_f'>to_f</span>
    <span class='id identifier rubyid_width'>width</span> <span class='op'>=</span> <span class='id identifier rubyid_width'>width</span><span class='period'>.</span><span class='id identifier rubyid_to_f'>to_f</span> <span class='op'>*</span> <span class='id identifier rubyid_scale'>scale</span>
    <span class='id identifier rubyid_height'>height</span> <span class='op'>=</span> <span class='id identifier rubyid_height'>height</span><span class='period'>.</span><span class='id identifier rubyid_to_f'>to_f</span> <span class='op'>*</span> <span class='id identifier rubyid_scale'>scale</span>

    <span class='id identifier rubyid_mask_size_width'>mask_size_width</span> <span class='op'>=</span> <span class='id identifier rubyid_width'>width</span> <span class='op'>*</span> <span class='id identifier rubyid_mask'>mask</span><span class='lbracket'>[</span><span class='symbol'>:x_size_ratio</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_to_f'>to_f</span>
    <span class='id identifier rubyid_mask_size_height'>mask_size_height</span> <span class='op'>=</span> <span class='id identifier rubyid_height'>height</span> <span class='op'>*</span> <span class='id identifier rubyid_mask'>mask</span><span class='lbracket'>[</span><span class='symbol'>:y_size_ratio</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_to_f'>to_f</span>

    <span class='id identifier rubyid_extension'>extension</span> <span class='op'>=</span> <span class='const'>File</span><span class='period'>.</span><span class='id identifier rubyid_extname'>extname</span><span class='lparen'>(</span><span class='id identifier rubyid_image'>image</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>filename</span><span class='tstring_end'>&#39;</span></span><span class='rbracket'>]</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_icon_output'>icon_output</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='const'>File</span><span class='period'>.</span><span class='id identifier rubyid_basename'>basename</span><span class='lparen'>(</span><span class='id identifier rubyid_image'>image</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>filename</span><span class='tstring_end'>&#39;</span></span><span class='rbracket'>]</span><span class='comma'>,</span> <span class='id identifier rubyid_extension'>extension</span><span class='rparen'>)</span><span class='embexpr_end'>}</span><span class='tstring_content'>-</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_mask'>mask</span><span class='lbracket'>[</span><span class='symbol'>:suffix</span><span class='rbracket'>]</span><span class='embexpr_end'>}</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_extension'>extension</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
    <span class='id identifier rubyid_icon_output_path'>icon_output_path</span> <span class='op'>=</span> <span class='const'>File</span><span class='period'>.</span><span class='id identifier rubyid_join'>join</span><span class='lparen'>(</span><span class='id identifier rubyid_output_folder'>output_folder</span><span class='comma'>,</span> <span class='id identifier rubyid_icon_output'>icon_output</span><span class='rparen'>)</span>

    <span class='id identifier rubyid_draw_shape_parameters'>draw_shape_parameters</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>-strokewidth &#39;</span><span class='embexpr_beg'>#{</span><span class='lparen'>(</span><span class='id identifier rubyid_mask'>mask</span><span class='lbracket'>[</span><span class='symbol'>:stroke_width_offset</span><span class='rbracket'>]</span> <span class='op'>||</span> <span class='int'>0</span><span class='rparen'>)</span> <span class='op'>*</span> <span class='lbracket'>[</span><span class='id identifier rubyid_width'>width</span><span class='comma'>,</span> <span class='id identifier rubyid_height'>height</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_min'>min</span><span class='embexpr_end'>}</span><span class='tstring_content'>&#39; -stroke &#39;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_mask'>mask</span><span class='lbracket'>[</span><span class='symbol'>:stroke_width_offset</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_zero?'>zero?</span> <span class='op'>?</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>none</span><span class='tstring_end'>&#39;</span></span> <span class='op'>:</span> <span class='lparen'>(</span><span class='id identifier rubyid_mask'>mask</span><span class='lbracket'>[</span><span class='symbol'>:stroke_color</span><span class='rbracket'>]</span> <span class='op'>||</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>#000000</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span><span class='embexpr_end'>}</span><span class='tstring_content'>&#39; -fill &#39;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_mask'>mask</span><span class='lbracket'>[</span><span class='symbol'>:background_color</span><span class='rbracket'>]</span> <span class='op'>||</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>#FFFFFF</span><span class='tstring_end'>&#39;</span></span><span class='embexpr_end'>}</span><span class='tstring_content'>&#39;</span><span class='tstring_end'>&quot;</span></span>
    <span class='id identifier rubyid_draw_shape'>draw_shape</span> <span class='op'>=</span>
      <span class='kw'>case</span> <span class='id identifier rubyid_mask'>mask</span><span class='lbracket'>[</span><span class='symbol'>:shape</span><span class='rbracket'>]</span>
      <span class='kw'>when</span> <span class='symbol'>:triangle</span>
        <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>-draw \&quot;polyline -</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_width'>width</span><span class='embexpr_end'>}</span><span class='tstring_content'>,</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_height'>height</span> <span class='op'>-</span> <span class='id identifier rubyid_mask_size_height'>mask_size_height</span><span class='embexpr_end'>}</span><span class='tstring_content'> 0,</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_height'>height</span> <span class='op'>-</span> <span class='id identifier rubyid_mask_size_height'>mask_size_height</span><span class='embexpr_end'>}</span><span class='tstring_content'> </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_mask_size_width'>mask_size_width</span><span class='embexpr_end'>}</span><span class='tstring_content'>,</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_height'>height</span><span class='embexpr_end'>}</span><span class='tstring_content'> </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_mask_size_width'>mask_size_width</span><span class='embexpr_end'>}</span><span class='tstring_content'>,</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_height'>height</span> <span class='op'>*</span> <span class='float'>2.0</span><span class='embexpr_end'>}</span><span class='tstring_content'> -</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_width'>width</span><span class='embexpr_end'>}</span><span class='tstring_content'>,</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_height'>height</span> <span class='op'>*</span> <span class='float'>2.0</span><span class='embexpr_end'>}</span><span class='tstring_content'>\&quot;</span><span class='tstring_end'>&quot;</span></span>
      <span class='kw'>when</span> <span class='symbol'>:square</span>
        <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>-draw \&quot;rectangle -</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_width'>width</span><span class='embexpr_end'>}</span><span class='tstring_content'>,</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_height'>height</span> <span class='op'>*</span> <span class='float'>2.0</span><span class='embexpr_end'>}</span><span class='tstring_content'> </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_mask_size_height'>mask_size_height</span><span class='embexpr_end'>}</span><span class='tstring_content'>,</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_width'>width</span> <span class='op'>-</span> <span class='id identifier rubyid_mask_size_width'>mask_size_width</span><span class='embexpr_end'>}</span><span class='tstring_content'>\&quot;</span><span class='tstring_end'>&quot;</span></span>
      <span class='kw'>else</span>
        <span class='id identifier rubyid_raise'>raise</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Unknown mask shape: </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_mask'>mask</span><span class='lbracket'>[</span><span class='symbol'>:shape</span><span class='rbracket'>]</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
      <span class='kw'>end</span>

    <span class='id identifier rubyid_draw_symbol'>draw_symbol</span> <span class='op'>=</span>
      <span class='kw'>if</span> <span class='id identifier rubyid_mask'>mask</span><span class='lbracket'>[</span><span class='symbol'>:file</span><span class='rbracket'>]</span>
        <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>\\( -background none -density 1536 -resize </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_width'>width</span> <span class='op'>*</span> <span class='id identifier rubyid_mask'>mask</span><span class='lbracket'>[</span><span class='symbol'>:size_offset</span><span class='rbracket'>]</span><span class='embexpr_end'>}</span><span class='tstring_content'>x</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_height'>height</span><span class='embexpr_end'>}</span><span class='tstring_content'> \&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_mask'>mask</span><span class='lbracket'>[</span><span class='symbol'>:file</span><span class='rbracket'>]</span><span class='embexpr_end'>}</span><span class='tstring_content'>\&quot; -geometry +</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_width'>width</span> <span class='op'>*</span> <span class='id identifier rubyid_mask'>mask</span><span class='lbracket'>[</span><span class='symbol'>:x_offset</span><span class='rbracket'>]</span><span class='embexpr_end'>}</span><span class='tstring_content'>+</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_height'>height</span> <span class='op'>*</span> <span class='id identifier rubyid_mask'>mask</span><span class='lbracket'>[</span><span class='symbol'>:y_offset</span><span class='rbracket'>]</span><span class='embexpr_end'>}</span><span class='tstring_content'> \\) -gravity southwest -composite</span><span class='tstring_end'>&quot;</span></span>
      <span class='kw'>else</span>
        <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>-strokewidth 0 -stroke none -fill &#39;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_mask'>mask</span><span class='lbracket'>[</span><span class='symbol'>:symbol_color</span><span class='rbracket'>]</span> <span class='op'>||</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>#7F0000</span><span class='tstring_end'>&#39;</span></span><span class='embexpr_end'>}</span><span class='tstring_content'>&#39; -font &#39;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_mask'>mask</span><span class='lbracket'>[</span><span class='symbol'>:font</span><span class='rbracket'>]</span><span class='embexpr_end'>}</span><span class='tstring_content'>&#39; -pointsize </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_height'>height</span> <span class='op'>*</span> <span class='id identifier rubyid_mask'>mask</span><span class='lbracket'>[</span><span class='symbol'>:size_offset</span><span class='rbracket'>]</span> <span class='op'>*</span> <span class='float'>2.0</span><span class='embexpr_end'>}</span><span class='tstring_content'> -annotate +</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_width'>width</span> <span class='op'>*</span> <span class='id identifier rubyid_mask'>mask</span><span class='lbracket'>[</span><span class='symbol'>:x_offset</span><span class='rbracket'>]</span><span class='embexpr_end'>}</span><span class='tstring_content'>+</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_height'>height</span> <span class='op'>-</span> <span class='id identifier rubyid_height'>height</span> <span class='op'>*</span> <span class='id identifier rubyid_mask'>mask</span><span class='lbracket'>[</span><span class='symbol'>:y_offset</span><span class='rbracket'>]</span><span class='embexpr_end'>}</span><span class='tstring_content'> &#39;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_mask'>mask</span><span class='lbracket'>[</span><span class='symbol'>:symbol</span><span class='rbracket'>]</span><span class='embexpr_end'>}</span><span class='tstring_content'>&#39;</span><span class='tstring_end'>&quot;</span></span>
      <span class='kw'>end</span>
    <span class='id identifier rubyid_system'>system</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>convert &#39;</span><span class='embexpr_beg'>#{</span><span class='const'>File</span><span class='period'>.</span><span class='id identifier rubyid_join'>join</span><span class='lparen'>(</span><span class='id identifier rubyid_appiconset_path'>appiconset_path</span><span class='comma'>,</span> <span class='id identifier rubyid_image'>image</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>filename</span><span class='tstring_end'>&#39;</span></span><span class='rbracket'>]</span><span class='rparen'>)</span><span class='embexpr_end'>}</span><span class='tstring_content'>&#39; </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_draw_shape_parameters'>draw_shape_parameters</span><span class='embexpr_end'>}</span><span class='tstring_content'> </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_draw_shape'>draw_shape</span><span class='embexpr_end'>}</span><span class='tstring_content'> </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_draw_symbol'>draw_symbol</span><span class='embexpr_end'>}</span><span class='tstring_content'> &#39;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_icon_output_path'>icon_output_path</span><span class='embexpr_end'>}</span><span class='tstring_content'>&#39;</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>

    <span class='kw'>next</span> <span class='id identifier rubyid_icon_output'>icon_output</span>
  <span class='kw'>end</span>

  <span class='const'>File</span><span class='period'>.</span><span class='id identifier rubyid_write'>write</span><span class='lparen'>(</span><span class='const'>File</span><span class='period'>.</span><span class='id identifier rubyid_join'>join</span><span class='lparen'>(</span><span class='id identifier rubyid_output_folder'>output_folder</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Contents.json</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span><span class='comma'>,</span> <span class='const'>JSON</span><span class='period'>.</span><span class='id identifier rubyid_pretty_generate'>pretty_generate</span><span class='lparen'>(</span><span class='id identifier rubyid_json_content'>json_content</span><span class='rparen'>)</span><span class='rparen'>)</span>

  <span class='id identifier rubyid_output_folder'>output_folder</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="type_incompatible?-class_method">
  
    .<strong>type_incompatible?</strong>(lhs, rhs)  &#x21d2; <tt>Boolean</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Check if the given types are compatible (if they can be used in the same
set)</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>lhs</span>
      
      
        <span class='type'>(<tt>Symbol</tt>, <tt>#read</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>The first type to check against the second type.</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>rhs</span>
      
      
        <span class='type'>(<tt>Symbol</tt>, <tt>#read</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>The second type to check against the first type.</p>
</div>
      
    </li>
  
</ul>

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p><code>true</code> if the given are compatible together, <code>false</code>
otherwise</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


46
47
48</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/ios_icon_generator/helpers/image_sets_definition.rb', line 46</span>

<span class='kw'>def</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_type_incompatible?'>type_incompatible?</span><span class='lparen'>(</span><span class='id identifier rubyid_lhs'>lhs</span><span class='comma'>,</span> <span class='id identifier rubyid_rhs'>rhs</span><span class='rparen'>)</span>
  <span class='lparen'>(</span><span class='id identifier rubyid_lhs'>lhs</span> <span class='op'>==</span> <span class='symbol'>:imessage</span> <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_rhs'>rhs</span> <span class='op'>!=</span> <span class='symbol'>:imessage</span><span class='rparen'>)</span> <span class='op'>||</span> <span class='lparen'>(</span><span class='id identifier rubyid_lhs'>lhs</span> <span class='op'>!=</span> <span class='symbol'>:imessage</span> <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_rhs'>rhs</span> <span class='op'>==</span> <span class='symbol'>:imessage</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="which-class_method">
  
    .<strong>which</strong>(cmd)  &#x21d2; <tt>String</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Cross-platform way of finding an executable in the <tt>$PATH</tt>.</p>

<p>From <a
href="http://stackoverflow.com/questions/2108727/which-in-ruby-checking-if-program-exists-in-path-from-ruby">stackoverflow.com/questions/2108727/which-in-ruby-checking-if-program-exists-in-path-from-ruby</a></p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>cmd</span>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>The name of the command to search the path for.</p>
</div>
      
    </li>
  
</ul>

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>The full path to the command if found, and <code>nil</code> otherwise.</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


27
28
29
30
31
32
33
34
35
36</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/ios_icon_generator/helpers/which.rb', line 27</span>

<span class='kw'>def</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_which'>which</span><span class='lparen'>(</span><span class='id identifier rubyid_cmd'>cmd</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_exts'>exts</span> <span class='op'>=</span> <span class='const'>ENV</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>PATHEXT</span><span class='tstring_end'>&#39;</span></span><span class='rbracket'>]</span> <span class='op'>?</span> <span class='const'>ENV</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>PATHEXT</span><span class='tstring_end'>&#39;</span></span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_split'>split</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>;</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span> <span class='op'>:</span> <span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_end'>&#39;</span></span><span class='rbracket'>]</span>
  <span class='const'>ENV</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>PATH</span><span class='tstring_end'>&#39;</span></span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_split'>split</span><span class='lparen'>(</span><span class='const'>File</span><span class='op'>::</span><span class='const'>PATH_SEPARATOR</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_path'>path</span><span class='op'>|</span>
    <span class='id identifier rubyid_exts'>exts</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_ext'>ext</span><span class='op'>|</span>
      <span class='id identifier rubyid_exe'>exe</span> <span class='op'>=</span> <span class='const'>File</span><span class='period'>.</span><span class='id identifier rubyid_join'>join</span><span class='lparen'>(</span><span class='id identifier rubyid_path'>path</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_cmd'>cmd</span><span class='embexpr_end'>}</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_ext'>ext</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
      <span class='kw'>return</span> <span class='id identifier rubyid_exe'>exe</span> <span class='kw'>if</span> <span class='const'>File</span><span class='period'>.</span><span class='id identifier rubyid_executable?'>executable?</span><span class='lparen'>(</span><span class='id identifier rubyid_exe'>exe</span><span class='rparen'>)</span> <span class='op'>&amp;&amp;</span> <span class='op'>!</span><span class='const'>File</span><span class='period'>.</span><span class='id identifier rubyid_directory?'>directory?</span><span class='lparen'>(</span><span class='id identifier rubyid_exe'>exe</span><span class='rparen'>)</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>
  <span class='kw'>nil</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
  </div>

</div>

      <div id="footer">
  Generated on Thu Feb 21 14:26:30 2019 by
  <a href="http://yardoc.org" title="Yay! A Ruby Documentation Tool" target="_parent">yard</a>
  0.9.18 (ruby-2.3.7).
</div>

    </div>
  </body>
</html>